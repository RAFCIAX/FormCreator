{"version":3,"sources":["LocStorage.ts","Router.ts","Form.ts"],"names":[],"mappings":"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","file":"Form.js","sourceRoot":"..","sourcesContent":["import { IDataStorage } from \"../Interfaces/IDataStorage\";\r\nimport { Form } from \"./Form\";\r\n\r\nexport class LocStorage implements IDataStorage {\r\n\r\n    constructor() {\r\n        this.DataStorage = window.localStorage;\r\n    }\r\n\r\n    DataStorage: any;\r\n\r\n    saveDocument(documentObject: Form): string {\r\n        const saveDocument = this.DataStorage.setItem(`document-${(Date.now())}`, JSON.stringify(documentObject));\r\n        return saveDocument;\r\n    }\r\n\r\n    saveEditedDocument(documentObject: Form, key: string): string {\r\n        const savedDocument = this.DataStorage.setItem(key, JSON.stringify(documentObject));\r\n        return savedDocument;\r\n    }\r\n\r\n    loadDocument(key: string): object {\r\n        const loadedDocument = this.DataStorage.getItem(key);\r\n        return loadedDocument;\r\n    }\r\n\r\n    getDocuments(): string[] {\r\n        const documents: object = {...this.DataStorage};\r\n        const documentsArray: string[] = [];\r\n        for(let key in documents) {\r\n            if (!documents.hasOwnProperty(key)) continue;\r\n            documentsArray.push(key);\r\n        }\r\n        return documentsArray;\r\n    }\r\n\r\n    removeDocument(key: string): void {\r\n        this.DataStorage.removeItem(key);\r\n    }\r\n}","export class Router {\r\n    constructor() {\r\n\r\n    }\r\n\r\n    static getParam(): string {\r\n        const query: string = window.location.search.substr(1);\r\n        const urlParams = new URLSearchParams(query);\r\n        const id = urlParams.get('id');\r\n        return id;\r\n    }\r\n}","import { IField } from './../Interfaces/IField';\r\nimport { LocStorage } from './LocStorage';\r\nimport { Router } from './Router';\r\n\r\n\r\nexport class Form {\r\n    constructor(fields: IField[]) {\r\n        this.fieldsArray = fields;\r\n    }\r\n\r\n    private fieldsArray: IField[];\r\n\r\n    render(pole: HTMLElement): void {\r\n        const formDocument: HTMLElement = document.createElement(\"form\");\r\n        formDocument.classList.add(\"form\");\r\n\r\n        const saveButton = document.createElement('button');\r\n        saveButton.innerHTML = \"Save\";\r\n\r\n        const backwardButton = document.createElement('button');\r\n        backwardButton.innerHTML = \"Back\";\r\n\r\n        this.fieldsArray.forEach(field => {field.render(formDocument)});\r\n        formDocument.appendChild(saveButton);\r\n        saveButton.addEventListener('click', (ev) => {\r\n            ev.preventDefault();\r\n            ev.stopImmediatePropagation();\r\n             if(Router.getParam() != null) {\r\n                 this.saveEdit(this, Router.getParam());\r\n             }\r\n             else {\r\n                 this.save(this);\r\n             }\r\n        });\r\n        formDocument.appendChild(backwardButton);\r\n        backwardButton.addEventListener('click', this.back);\r\n        pole.appendChild(formDocument);\r\n    }\r\n\r\n    getValue(): object {\r\n        return this.fieldsArray.map(field => {\r\n            return {type: field.Type, label: field.Label, name: field.Name, value: field.Value};\r\n        })\r\n    }\r\n\r\n    saveEdit(data: Form, key: string): void {\r\n         const storage = new LocStorage();\r\n         storage.saveEditedDocument(data, key);\r\n         alert(\"Document saved\");\r\n         window.location.href = \"index.html\";\r\n    }\r\n\r\n    save(data: Form): void {\r\n        const storage = new LocStorage();\r\n        storage.saveDocument(data);\r\n        alert(\"Document successfully saved!\");\r\n        window.location.href = \"index.html\";\r\n    }\r\n\r\n    back(): void {\r\n        window.location.href = \"index.html\";\r\n    }\r\n\r\n}"]}